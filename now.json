{
  "version": 2,
  "name": "poll",
  "alias": "poll-app.now.sh",
  "builds": [
    { "src": "api/poll.js", "use": "@now/node" },
    { "src": "api/actions.js", "use": "@now/node" },
    { "src": "api/oauth.js", "use": "@now/node" },
    { "src": "api/subscriptions.js", "use": "@now/node" },
    { "src": "frontend/next.config.js", "use": "@now/next"},
    { "src": "frontend/static/*", "use": "@now/static" }
  ],
  "env": {
    "CLIENT_ID": "@slack-client-id",
    "CLIENT_SECRET": "@slack-client-secret",
    "FAUNA_SECRET": "@faunadb-secret",
    "STRIPE_SECRET": "@stripe-secret"
  },
  "routes": [
    {
      "src": "^/poll",
      "dest": "/api/poll.js"
    },
    {
      "src": "^/oauth",
      "dest": "/api/oauth.js"
    },
    {
      "src": "^/actions",
      "dest": "/api/actions.js"
    },
    {
      "src": "^/subscriptions",
      "dest": "/api/subscriptions.js"
    },
    {
      "src": "^/",
      "dest": "/frontend/",
      "headers": {"cache-control": "s-maxage=31536000"}
    },
    {
      "src": "^/static/(.*)",
      "dest": "/frontend/static/$1",
      "headers": {"cache-control": "s-maxage=31536000"}
    },
    {
      "src": "^/_next/static/(.*)$",
      "dest": "/frontend/_next/static/$1",
      "headers": {"cache-control": "s-maxage=31536000"}
    }
  ]
}